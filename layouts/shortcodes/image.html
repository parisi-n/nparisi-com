<!-- implementare type="rounded" -->
{{ $caption := .Get "caption" }}
<figure class="block-image{{if .Get "type" }} {{ .Get "type" }}{{end}}"{{ if .Get "parent-style" }} style="{{.Get "parent-style" }}"{{end}}>
    <img 
        srcset="{{if .Page.Params.baseimg }}{{ .Page.Params.baseimg | absURL }}{{end}}{{ .Params.baseimg }}{{ .Get "src" }}?nf_resize=fit&w=1920 1920w,
                {{if .Page.Params.baseimg }}{{ .Page.Params.baseimg | absURL }}{{end}}{{ .Params.baseimg }}{{ .Get "src" }}?nf_resize=fit&w=1024 1024w,
                {{if .Page.Params.baseimg }}{{ .Page.Params.baseimg | absURL }}{{end}}{{ .Params.baseimg }}{{ .Get "src" }}?nf_resize=fit&w=640 640w,
                {{if .Page.Params.baseimg }}{{ .Page.Params.baseimg | absURL }}{{end}}{{ .Params.baseimg }}{{ .Get "src" }}?nf_resize=fit&w=320 320w,
                "
        src="{{if .Page.Params.baseimg }}{{ .Page.Params.baseimg | absURL }}{{end}}{{ .Params.baseimg }}{{ .Get "src" }}?nf_resize=fit&w=320&h="
         {{ if .Get "alt"}} alt="{{ .Get "alt" }}"{{end}}
         {{ if .Get "class" }} class="{{ .Get "class" }}"{{end}}
         {{ if .Get "style" }} style="{{ .Get "style" | safeCSS }}"{{end}}
         >
         
    {{ if $caption }}
    <figcaption>
        {{ $caption }}
    </figcaption>
    {{ end }}
</figure>